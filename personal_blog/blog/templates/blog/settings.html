{% extends 'blog/base_admin.html' %}

{% block title %}Settings | Admin Dashboard{% endblock %}

{% block content %}

<h2 class="fw-semibold mb-4 text-center">⚙️ Account Settings</h2>

<!-- PROFILE SECTION -->
<div class="card mb-4 shadow-sm">
  <div class="card-body">
    <h5 class="card-title mb-3">Profile Information</h5>

    <form method="POST">
      {% csrf_token %}

      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">First Name</label>
          <input type="text" name="first_name" class="form-control" 
                 value="{{ request.user.first_name }}">
        </div>

        <div class="col-md-6">
          <label class="form-label">Last Name</label>
          <input type="text" name="last_name" class="form-control" 
                 value="{{ request.user.last_name }}">
        </div>

        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input type="email" name="email" class="form-control" 
                 value="{{ request.user.email }}">
        </div>

        <div class="col-md-6">
          <label class="form-label">Username</label>
          <input type="text" name="username" class="form-control" 
                 value="{{ request.user.username }}">
        </div>

        <div class="col-md-6">
          <label class="form-label">New Password</label>
          <input type="password" name="password" class="form-control" placeholder="Leave blank to keep current">
        </div>
      </div>

      <div class="mt-3 text-end">
        <button type="submit" name="profile_submit" class="btn btn-primary">
          <i class="bi bi-save me-1"></i> Save Changes
        </button>
      </div>
    </form>

  </div>
</div>

<!-- PREFERENCES -->
<div class="card mb-4 shadow-sm">
  <div class="card-body">
    <h5 class="card-title mb-3">Preferences</h5>

    <form method="POST">
      {% csrf_token %}

      <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" name="notifications"
               {% if request.session.notifications %}checked{% endif %}>
        <label class="form-check-label">Enable Email Notifications</label>
      </div>

      <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" name="auto_backup"
               {% if request.session.auto_backup %}checked{% endif %}>
        <label class="form-check-label">Enable Auto Backup</label>
      </div>

      <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" name="dark_mode"
               {% if request.session.dark_mode %}checked{% endif %}>
        <label class="form-check-label">Enable Dark Mode</label>
      </div>

      <div class="text-end">
        <button type="submit" name="pref_submit" class="btn btn-success">
          <i class="bi bi-check2-circle me-1"></i> Save Preferences
        </button>
      </div>
    </form>

  </div>
</div>

<!-- DANGER ZONE -->
<div class="card border-danger shadow-sm">
  <div class="card-body">
    <h5 class="card-title text-danger">
      <i class="bi bi-exclamation-triangle me-2"></i> Danger Zone
    </h5>

    <p class="text-muted mb-3">
      Deleting your account is irreversible. All your data will be permanently removed.
    </p>

    <form method="POST">
      {% csrf_token %}
      <button type="submit" name="delete_account" class="btn btn-outline-danger">
        <i class="bi bi-trash me-1"></i> Delete Account
      </button>
    </form>

  </div>
</div>

{% endblock %}
